已实现和待实现的各种棋的规则

---

### 合群（hequn）

10*10 棋盘，空枰开局。双方轮流行动，可以选择棋盘上一空位落一己方子，或虚手。

落子之后，如果刚落的子在横/竖/斜向上形成了三连，则将以三连中心的子为中心，周围 3*3 的格子染成行动方对应的颜色。

如果某步落子同时形成了多个三连，每个三连分别进行染色。

如果染色碰到之前已经被染色的格子，则之前的染色被取消，以新的染色为准。

双方都虚手后游戏结束，哪方的染色格多则胜利，相等则平局。

上述规则后手下模仿棋则必胜，竞技采用三手交换规则。

---

### 占地（zhandi）

边长为 5 的六角棋盘，空枰开局。双方轮流进行回合，每回合分为两个阶段：

1. 吃子。如果存在一个敌方棋子，满足“相邻的敌方棋子数量 + 1 < 相邻的己方棋子数量”，则将其替换为己方棋子。如果替换后仍然存在满足条件的敌方棋子，则继续替换，直到不存在为止。
2. 落子。可以在棋盘的任何一个空格放置一个己方棋子。

当一方落子使得棋盘没有空格后，执行另一方的吃子阶段然后结束游戏。棋盘上哪方的棋子多则胜利。后手计算棋子数量时额外计算 4 子，称为贴子。

---

### 形象（Xingxiang）

8*8 棋盘，空枰开局。双方轮流进行回合，每回合分为四个阶段：

1. 杀王。如果敌方的王处于我方某个棋子攻击范围内，宣布胜利。
2. 落子。可以在棋盘的任何一个空格放置一个己方普通棋子，或将棋盘上的任意一个己方棋子替换为己方普通棋子。
3. 升变。如果 2.落子 中刚刚放置/替换的棋子与另外三个棋子形成了“形象”，则可将形象中心的棋子替换为形象对应的棋子。如果己方之前已经存在王且这一步又生成了王，则将原来的王替换为普通棋子。
4. 吃子。如果敌方的某个非王棋子同时处于我方三个互不同名棋子的攻击范围内，将其提走。如果有多个能吃的子，则全部吃掉。

额外规则：双方必须在前八回合内生成己方的王。

兵种：普通棋子（无走法）、车（直二斜一，同麒麟）、象（斜二直一，同凤凰）、马（国象马）、王（国象王）

名词解释：形象：四个己方棋子 ABCD，其中 A 能以兵种 x 的走法走到 BCD 三子的位置，就称 ABCD 四个子形成了形象 x，此时在升变阶段可以把 A 替换为兵种 x. （不一定由普通棋子替换得到，可以从任意棋子替换）。